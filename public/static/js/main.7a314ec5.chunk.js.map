{"version":3,"sources":["components/CalcButton.js","containers/CalcApp.js","index.js"],"names":["showNotImplemented","console","warn","CalcButton","props","className","children","onClick","extraClass","CalcButton0","defaultProps","CalcApp","state","display","show","bind","resetState","count","this","setState","alert","e","i","target","innerHTML","newdis","dis","l","length","result","record","A","B","last","k","splice","push","j","Ares","parseFloat","join","Bres","Math","round","String","id","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a314ec5.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nfunction showNotImplemented() {\r\n  console.warn('This function is not implemented yet.');\r\n}\r\n\r\nconst CalcButton = (props) => {\r\n  const { className, children, onClick } = props;\r\n  const extraClass = className || '';\r\n  return (\r\n    <button\r\n      className={`calc-btn ${extraClass}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nconst CalcButton0 = (props) => {\r\n  const { className, children, onClick } = props;\r\n  const extraClass = className || '';\r\n  return (\r\n    <button\r\n      className={`calc-btn bigger-btn ${extraClass}`}\r\n      onClick={onClick}\r\n    >\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\n\r\nCalcButton.propTypes = {\r\n  className: PropTypes.string,\r\n  children: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nCalcButton.defaultProps = {\r\n  onClick: showNotImplemented,\r\n};\r\n\r\nCalcButton0.propTypes = {\r\n  className: PropTypes.string,\r\n  children: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func,\r\n};\r\n\r\nCalcButton0.defaultProps = {\r\n  onClick: showNotImplemented,\r\n};\r\n\r\nexport default CalcButton;\r\nexport {CalcButton0};\r\n","import React from 'react';\r\n\r\nimport CalcButton, {CalcButton0} from '../components/CalcButton';\r\n\r\n// 計算機 App\r\nclass CalcApp extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n\t\tdisplay: [],\r\n    };\r\n\t  this.show = this.show.bind(this)\r\n\t  this.resetState = this.resetState.bind(this)\r\n\t  this.count = this.count.bind(this)\r\n\t  this.showNotImplemented = this.showNotImplemented.bind(this)\r\n  }\r\n\r\n  resetState() {\r\n    this.setState({display: []})\r\n  }\r\n\r\n  showNotImplemented() {\r\n    console.warn('This function is not implemented yet.');\r\n\talert(\"這次作業不會用到這個功能啊，大哥/大姊，不要亂按好嗎？愛你。\")\r\n  }\r\n\t\r\n  show(e){\r\n\t  let i = e.target.innerHTML;\r\n\t  let newdis = [...this.state.display, i]\r\n\t  \r\n\t  this.setState({display: newdis});\r\n  }\r\n\t\r\n  count(){\r\n\t  let dis = this.state.display\r\n\t  let l = dis.length - 1\r\n\t  let result = 0.0\r\n\t  let record = 0\r\n\t  let A = []\r\n\t  let B = []\r\n\t  let last = 0\r\n\t  \r\n\t  if(dis[0] === 'x' || dis[0] === '÷')  this.setState({display: [\"error\"]});\r\n\t  else if(dis[l] === '+' || dis[l] === '-' || dis[l] === 'x' || dis[l] === '÷')  this.setState({display: [\"error\"]});\r\n\t  else if(dis[0] === 'error')  this.setState({display: [\"error\"]});\r\n\t  \r\n\t  else{\r\n\t  \r\n\t\t  for(let i = 0; i < dis.length; i++){  //  */先處理\r\n\t\t\t  \r\n\t\t\t  if(dis.length === 1) break;\r\n\t\t\t  \r\n\t\t\t  if(dis[i] ==='x' || dis[i] ==='÷'){\r\n\t\t\t\t  \r\n\t\t\t\t  let k = i\r\n\t\t\t\t  while(true){\r\n\t\t\t\t\t  if(dis[k + 1] ==='x' || dis[k + 1] ==='÷'){\r\n\t\t\t\t\t\t  dis = ['error'];\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  else if(dis[k + 1] ==='+'){\r\n\t\t\t\t\t\t  dis.splice(k + 1,1)\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  else if(dis[k + 1] ==='-'){\r\n\t\t\t\t\t\t  dis.splice(k + 1,1)\r\n\t\t\t\t\t\t  A.push('-')\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  else if(dis[k - 1] ==='+' || dis[k - 1] === '-'){\r\n\t\t\t\t\t\t  dis = ['error'];\r\n\t\t\t\t\t\t  break;\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  else  break;\r\n\t\t\t\t  }\r\n\t\t\t\t  \r\n\t\t\t\t  if(dis[0] === 'error')  break;\r\n\t\t\t\t  \r\n\t\t\t\t  for(let j = record; j < i; j++){\r\n\t\t\t\t\t  A.push(dis[j])\r\n\t\t\t\t  }\r\n\t\t\t\t  let Ares = parseFloat(A.join(''), 10)\r\n\t\t\t\t  \r\n\t\t\t\t  for(let j = i + 1; j < dis.length; j++){\r\n\t\t\t\t\t  if(dis[j] === '+' || dis[j] === '-' || dis[j] === 'x' || dis[j] === '÷')  break;\r\n\t\t\t\t\t  B.push(dis[j])\r\n\t\t\t\t\t  last = j\r\n\t\t\t\t  }\r\n\t\t\t\t  let Bres = parseFloat(B.join(''), 10)\r\n\t\t\t\t  if(dis[i] ==='x')    result = Ares * Bres;\r\n\t\t\t\t  else                 result = Math.round(Ares / Bres *100000) / 100000;\r\n\t\t\t\t  dis.splice(record, last - record + 1, String(result));\r\n\t\t\t\t  i = record;\r\n\t\t\t\t  A = [];\r\n\t\t\t\t  B = [];\r\n\t\t\t  }\r\n\t\t\t  \r\n\t\t\t  else if(dis[i] ==='+' || dis[i] ==='-'){\r\n\t\t\t\t  record = i + 1;\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  \r\n\t\t  \r\n\t\t  for(let i = 0; i < dis.length; i++){  // 後處理+-\r\n\t\t\t  if(dis[0] === 'error')  break;\r\n\t\t\t  else if(dis.length === 1) break;\r\n\t\t\t  \r\n\t\t\t  if(dis[i] === '+' || dis[i] === '-'){\r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t\t  while(true){\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  if(dis[i] === '+' && dis[i + 1] === '+'){\r\n\t\t\t\t\t\t  dis.splice(i + 1,1)\r\n\t\t\t\t      }\r\n\t\t\t\t\t  else if(dis[i] === '+' && dis[i + 1] === '-'){\r\n\t\t\t\t\t\t  dis[i] = '-'\r\n\t\t\t\t\t\t  dis.splice(i + 1,1)\r\n\t\t\t\t      }\r\n\t\t\t\t\t  else if(dis[i] === '-' && dis[i + 1] === '+'){\r\n\t\t\t\t\t\t  dis.splice(i + 1,1)\r\n\t\t\t\t      }\r\n\t\t\t\t\t  else if(dis[i] === '-' && dis[i + 1] === '-'){\r\n\t\t\t\t\t\t  dis[i] = '+'\r\n\t\t\t\t\t\t  dis.splice(i + 1,1)\r\n\t\t\t\t      }\r\n\t\t\t\t\t  else if(i === 0 && (dis[1] !== '+' || dis[1] !== '-')){\r\n\t\t\t\t\t\t  if(dis[0] === '+'){\r\n\t\t\t\t\t\t\t  dis.splice(0,1);\r\n\t\t\t\t\t\t\t  break;\r\n\t\t\t\t\t\t  }  \r\n\t\t\t\t\t\t  else if(dis[0] === '-'){\r\n\t\t\t\t\t\t\t  dis[1] = '-' + dis[1];\r\n\t\t\t\t\t\t\t  dis.splice(0,1);\r\n\t\t\t\t\t\t\t  break;\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t  \r\n\t\t\t\t\t  else  break;\r\n\t\t\t\t  }\r\n\t\t\t\t  \r\n\t\t\t\t  if(dis[0] === 'error')  break;\r\n\t\t\t\t  else if(i === 0)  continue;\r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t\t  for(let j = 0; j < i; j++){\r\n\t\t\t\t\t  A.push(dis[j])\r\n\t\t\t\t  }\r\n\t\t\t\t  let Ares = parseFloat(A.join(''))\r\n\t\t\t\t  \r\n\t\t\t\t  for(let j = i + 1; j < dis.length; j++){\r\n\t\t\t\t\t  if(dis[j] === '+' || dis[j] === '-')  break;\r\n\t\t\t\t\t  B.push(dis[j])\r\n\t\t\t\t\t  last = j\r\n\t\t\t\t  }\r\n\t\t\t\t  let Bres = parseFloat(B.join(''), 10)\r\n\t\t\t\t  if(dis[i] ==='+')  result = Ares + Bres;\r\n\t\t\t\t  else               result = Ares - Bres;\r\n\t\t\t\t  dis.splice(0, last + 1, String(result));\r\n\t\t\t\t  i = 0\r\n\t\t\t\t  A = [];\r\n\t\t\t\t  B = [];\r\n\t\t\t  }\r\n\t\t  }\r\n\t\t  \r\n\t  this.setState({display: dis});\r\n\t  \r\n\t  }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"calc-app\">\r\n        <div className=\"calc-container\">\r\n          <div className=\"calc-output\">\r\n            <div className=\"calc-display\" id = 'display'>{this.state.display.join('')}</div>\r\n          </div>\r\n          <div className=\"calc-row\">\r\n            <CalcButton onClick={this.resetState}>AC</CalcButton>\r\n            <CalcButton onClick={this.showNotImplemented}>+/-</CalcButton>\r\n            <CalcButton onClick={this.showNotImplemented}>%</CalcButton>\r\n            <CalcButton className=\"calc-operator\" onClick = {this.show}>÷</CalcButton>\r\n          </div>\r\n          <div className=\"calc-row\">\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>7</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>8</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>9</CalcButton>\r\n            <CalcButton className=\"calc-operator\" onClick = {this.show}>x</CalcButton>\r\n          </div>\r\n\t\t  <div className=\"calc-row\">\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>4</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>5</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>6</CalcButton>\r\n            <CalcButton className=\"calc-operator\" onClick = {this.show}>-</CalcButton>\r\n          </div>\r\n\t\t  <div className=\"calc-row\">\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>1</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>2</CalcButton>\r\n            <CalcButton className=\"calc-number\" onClick = {this.show}>3</CalcButton>\r\n            <CalcButton className=\"calc-operator\" onClick = {this.show}>+</CalcButton>\r\n          </div>\r\n\t\t  <div className=\"calc-row\">\r\n            <CalcButton0 className=\"calc-number\" onClick = {this.show}>0</CalcButton0>\r\n            \r\n            <CalcButton className=\"calc-number\" onClick = {this.showNotImplemented}>.</CalcButton>\r\n            <CalcButton className=\"calc-operator\" onClick = {this.count}>=</CalcButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CalcApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './styles.css';\r\nimport './reset.css';\r\nimport CalcApp from './containers/CalcApp';\r\n\r\n// eslint\r\nReactDOM.render(<CalcApp />, document.getElementById('root'));\r\n"],"sourceRoot":""}